{"version":3,"sources":["groceries-service.ts"],"names":[],"mappings":";;;;;;;;AAAA,sCAA2C;AAE3C,8CAA6C;AAC7C,4CAAiD;AACjD,6BAA+B;AAC/B;;;;;EAKE;AAEF;IAUE;QARA,UAAK,GAAG,EAAE,CAAC;QAMX,YAAO,GAAG,uBAAuB,CAAC;QAGhC,OAAO,CAAC,GAAG,CAAC,yCAAyC,CAAC,CAAC;QAEvD,IAAI,CAAC,iBAAiB,GAAG,IAAI,cAAO,EAAW,CAAC;QAChD,IAAI,CAAC,YAAY,GAAG,IAAI,CAAC,iBAAiB,CAAC,YAAY,EAAE,CAAC;IAC5D,CAAC;IAED,2CAAQ,GAAR;QACE,OAAO,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,OAAO,GAAG,gBAAgB,CAAC,CAAC,IAAI,EAAC,CAAC;QAC5D,eAAG,CAAC,IAAI,CAAC,WAAW,CAAC;YACrB,sBAAU,CAAC,IAAI,CAAC,WAAW,CAAC,CAAA;QAAC,CAAC;IAC9B,CAAC;IAEK,8CAAW,GAAnB,UAAoB,GAAa;QAC/B,IAAI,IAAI,GAAG,GAAG,CAAC;QACf,OAAO,IAAI,IAAI,EAAE,CAAC;IACpB,CAAC;IAEO,8CAAW,GAAnB,UAAoB,KAAqB;QACvC,IAAI,MAAc,CAAC;QACnB,IAAI,KAAK;YAAC,SAAS,CAAA;QAAC,QAAQ,CAAA;QAAE;YAC5B,MAAM,GAAG,0CAA0C,CAAA;YAAA,UAAU,CAAC;SAC/D;QACI;YACH,MAAM,GAAG,KAAK,CAAC,OAAO,CAAC,CAAC,CAAC,KAAK,CAAC,OAAO,CAAC,CAAC,CAAC,KAAK,CAAC,QAAQ,EAAE,CAAC;SAC7D;QACD,OAAO,CAAC,KAAK,CAAC,MAAM,CAAC,CAAC;QACtB,OAAO,uBAAU,CAAC,OAAK,CAAA,CAAC,MAAM,CAAC,CAAC;IAChC,CAAC;IAED,6CAAU,GAAV,UAAW,EAAE;QAAb,iBAMC;QALC,OAAO,CAAC,GAAG,CAAC,0BAA0B,EAAE,EAAE,CAAC,CAAC;QAC5C,IAAI,CAAC,IAAI,CAAC,QAAM,CAAA,CAAC,IAAI,CAAC,OAAO,GAAG,iBAAiB,GAAG,EAAE,CAAC,CAAC,SAAS,CAAC,UAAA,GAAG;YACnE,KAAI,CAAC,KAAK,GAAG,GAAG,CAAC;YACjB,KAAI,CAAC,iBAAiB,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;QACpC,CAAC,CAAC,CAAC;IACL,CAAC;IAED,0CAAO,GAAP,UAAQ,IAAI;QAAZ,iBAKC;QAJC,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,OAAO,GAAG,gBAAgB,EAAE,IAAI,CAAC,CAAC,SAAS,CAAC,UAAA,GAAG;YACjE,KAAI,CAAC,KAAK,GAAG,GAAG,CAAC;YACjB,KAAI,CAAC,iBAAiB,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;QACpC,CAAC,CAAA,CAAA;IACH,CAAC;IAED,2CAAQ,GAAR,UAAS,IAAI,EAAE,KAAK;QAApB,iBAMC;QALC,OAAO,CAAC,GAAG,CAAC,iBAAiB,EAAE,IAAI,CAAC,CAAC;QACrC,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,OAAO,GAAG,iBAAiB,GAAG,IAAI,CAAC,GAAG,EAAE,IAAI,CAAC,CAAC,SAAS,CAAC,UAAA,GAAG;YAC5E,KAAI,CAAC,KAAK,GAAG,GAAG,CAAC;YACjB,KAAI,CAAC,iBAAiB,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;QACpC,CAAC,CAAC,CAAC;IACL,CAAC;IA7DU,wBAAwB;QADpC,iBAAU,EAAE;OACA,wBAAwB,CA+DpC;IAAD,+BAAC;CA/DD,AA+DC,IAAA;AA/DY,4DAAwB","file":"groceries-service.js","sourcesContent":["import { Injectable } from '@angular/core';\nimport { HttpClient } from '@angular/common/http';\nimport { Observable } from 'rxjs/Observable';\nimport { map, catchError } from 'rxjs/operators';\nimport { Subject } from 'rxjs';\n/*\n  Generated class for the GroceriesServiceProvider provider.\n\n  See https://angular.io/guide/dependency-injection for more info on providers\n  and Angular DI.\n*/\n@Injectable()\nexport class GroceriesServiceProvider {\n\n  items = [];\n\n  dataChanged$: Observable<boolean>;\n\n  private dataChangeSubject: Subject<boolean>;\n\n  baseURL = \"http://localhost:8080\";\n\n  constructor() {\n    console.log('Hello GroceriesServiceProvider Provider');\n\n    this.dataChangeSubject = new Subject<boolean>();\n    this.dataChanged$ = this.dataChangeSubject.asObservable();\n  }\n\n  getItems() {\n    return this.http.get(this.baseURL + '/api/groceries').pipe(;\n    map(this.extractData),\n    catchError(this.handleError));\n    }\n\n  private extractData(res: Response) {\n    let body = res;\n    return body || {};\n  }\n\n  private handleError(error: Response | any) {\n    let errMsg: string;\n    if (error instaceof Response) {\n      errMsg = '${error.status} - ${error.statusText || ''} ${err}';\n    }\n    else {\n      errMsg = error.message ? error.message : error.toString();\n  }\n  console.error(errMsg);\n  return Observable.throw(errMsg);\n  }\n  \n  removeItem(id) {\n    console.log(\"#### Remove Item - id = \", id);\n    this.http.delete(this.baseURL + '/api/groceries/' + id).subscribe(res => {\n      this.items = res;\n      this.dataChangeSubject.next(true);\n    });\n  }\n\n  addItem(item) {\n    this.http.post(this.baseURL + '/api/groceries', item).subscribe(res => {\n      this.items = res;\n      this.dataChangeSubject.next(true);\n    }\n  }\n\n  editItem(item, index) {\n    console.log(\"Editing item = \", item);\n    this.http.put(this.baseURL + '/api/groceries/' + item._id, item).subscribe(res => {\n      this.items = res;\n      this.dataChangeSubject.next(true);\n    });\n  }\n\n}\n"]}