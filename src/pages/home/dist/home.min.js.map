{"version":3,"sources":["home.ts"],"names":["core_1","require","HomePage","navCtrl","toastCtrl","alertCtrl","dataService","inputDialogService","socialSharing","_this","this","title","items","dataChanged$","subscribe","dataChanged","loadItems","prototype","ionViewDidLoad","getItems","error","errorMessage","removeItem","id","shareItem","item","index","console","log","create","message","duration","present","name","quantity","share","then","editItem","showPrompt","addItem","__decorate","Component","selector","templateUrl","exports"],"mappings":"6YAAA,IAAAA,OAAAC,QAAA,iBAaAC,SAAA,WAOE,SAAAA,EAAmBC,EAA+BC,EAAmCC,EAAmCC,EAA8CC,EAAuDC,GAA7N,IAAAC,EAAAC,KAAmBA,KAAAP,QAAAA,EAA+BO,KAAAN,UAAAA,EAAmCM,KAAAL,UAAAA,EAAmCK,KAAAJ,YAAAA,EAA8CI,KAAAH,mBAAAA,EAAuDG,KAAAF,cAAAA,EAL7NE,KAAAC,MAAQ,UAERD,KAAAE,MAAO,GAILN,EAAYO,aAAaC,UAAU,SAACC,GAClCN,EAAKO,cAyDX,OArDEd,EAAAe,UAAAC,eAAA,WACER,KAAKM,aAGPd,EAAAe,UAAAD,UAAA,WAAA,IAAAP,EAAAC,KACEA,KAAKJ,YAAYa,WACdL,UACC,SAAAF,GAAS,OAAAH,EAAKG,MAAQA,GACtB,SAAAQ,GAAS,OAAAX,EAAKY,aAAoBD,KAGxClB,EAAAe,UAAAK,WAAA,SAAWC,GACVb,KAAKJ,YAAYgB,WAAWC,IAG7BrB,EAAAe,UAAAO,UAAA,SAAUC,EAAMC,GACdC,QAAQC,IAAI,kBAAmBH,EAAMC,GACvBhB,KAAKN,UAAUyB,OAAO,CAClCC,QAAS,kBAAoBJ,EAAQ,OACrCK,SAAU,MAGNC,UAEN,IAAIF,EAAU,wBAA0BL,EAAKQ,KAAO,gBAAkBR,EAAKS,SAG3ExB,KAAKF,cAAc2B,MAAML,EAFX,4BAE6BM,KAAK,WAE9CT,QAAQC,IAAI,0BACN,MAAC,SAACR,GACRO,QAAQP,MAAM,uBAAwBA,MAK1ClB,EAAAe,UAAAoB,SAAA,SAASZ,EAAMC,GACbC,QAAQC,IAAI,eAAgBH,EAAMC,GACpBhB,KAAKN,UAAUyB,OAAO,CAClCC,QAAS,kBAAoBJ,EAAQ,OACrCK,SAAU,MAENC,UACNtB,KAAKH,mBAAmB+B,WAAWb,EAAMC,IAG3CxB,EAAAe,UAAAsB,QAAA,WACEZ,QAAQC,IAAI,eACZlB,KAAKH,mBAAmB+B,cA7DfpC,EAAQsC,WAAA,CAJpBxC,OAAAyC,UAAU,CACTC,SAAU,YACVC,YAAa,eAEFzC,GAAb,GAAa0C,QAAA1C,SAAAA","file":"home.min.js","sourcesContent":["import { Component } from '@angular/core';\nimport { NavController } from 'ionic-angular';\nimport { ToastController } from 'ionic-angular';\nimport { AlertController } from 'ionic-angular';\nimport { GroceriesServiceProvider } from '../../providers/groceries-service/groceries-service';\nimport { InputDialogServiceProvider } from '../../providers/input-dialog-service/input-dialog-service';\nimport { SocialSharing } from '@ionic-native/social-sharing';\n\n\n@Component({\n  selector: 'page-home',\n  templateUrl: 'home.html'\n})\nexport class HomePage {\n\n  title = \"Grocery\";\n\n  items= [];\n  errorMessage: string;\n\n  constructor(public navCtrl: NavController, public toastCtrl: ToastController, public alertCtrl: AlertController, public dataService: GroceriesServiceProvider, public inputDialogService: InputDialogServiceProvider, public socialSharing: SocialSharing) {\n    dataService.dataChanged$.subscribe((dataChanged: boolean) => {\n      this.loadItems();\n    });\n  }\n\n  ionViewDidLoad() {\n    this.loadItems();\n  }\n\n  loadItems() {\n    this.dataService.getItems()\n      .subscribe(\n        items => this.items = items,\n        error => this.errorMessage = <any>error);\n  }\n\n  removeItem(id) {\n   this.dataService.removeItem(id);\n  }\n\n  shareItem(item, index) {\n    console.log(\"Sharing Item - \", item, index);\n    const toast = this.toastCtrl.create({\n      message: 'Sharing Item - ' + index + \" ...\",\n      duration: 3000\n    });\n\n    toast.present();\n\n    let message = \"Grocery Item - Name: \" + item.name + \" - Quantity: \" + item.quantity;\n    let subject = \"Shared via Groceries app\";\n\n    this.socialSharing.share(message, subject).then(() => {\n      // Sharing via email is possible\n      console.log(\"Shared successfully!\");\n    }).catch((error) => {\n      console.error(\"Error while sharing \", error);\n    });    \n\n  }\n\n  editItem(item, index) {\n    console.log(\"Edit Item - \", item, index);\n    const toast = this.toastCtrl.create({\n      message: 'Editing Item - ' + index + \" ...\",\n      duration: 3000\n    });\n    toast.present();\n    this.inputDialogService.showPrompt(item, index);\n  }  \n\n  addItem() {\n    console.log(\"Adding Item\");\n    this.inputDialogService.showPrompt();\n  }\n\n\n\n}\n"]}